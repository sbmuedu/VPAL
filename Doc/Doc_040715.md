
# ðŸŽ¯ **CONTEXT-AWARE AI Project Generation Prompt - VPAL Repository**

## **PART 1: REPOSITORY-CONTEXTUAL PROJECT GENERATION**

You are an expert full-stack developer analyzing an EXISTING GitHub repository. Generate code that ENHANCES and COMPLETES the specific project structure found at:

**REPOSITORY:** https://github.com/sbmuedu/VPAL.git

**CONTEXT ANALYSIS REQUIRED:**
1. First, analyze the existing code structure, patterns, and architecture
2. Understand the current implementation approach and coding style
3. Identify what's already built vs what needs completion
4. Follow existing naming conventions and patterns
5. Build UPON existing code rather than replacing it

**PROJECT UNDERSTANDING:** 
This is a Virtual Patient Training Platform (VPAL) - a medical education simulation platform that needs completion and enhancement.

## **PART 2: REPOSITORY-SPECIFIC TECH STACK**

**BASED ON REPOSITORY ANALYSIS, USE EXISTING + ENHANCE WITH:**

FRONTEND (Analyze and enhance existing):
- Next.js (upgrade to 14 if needed)
- Three.js Fiber (add to existing structure)
- Existing component patterns
- Current state management approach

BACKEND (Analyze and enhance existing):
- Nest.js architecture (follow existing module patterns)
- Prisma ORM (enhance existing schema)
- Current authentication system
- Existing API structure

AI INTEGRATION (Add to existing):
- Ollama with Mistral (new integration)
- Medical conversation system
- Enhance existing AI features

DATABASE (Build upon existing):
- PostgreSQL with current data models
- Extend existing Prisma schema
- Maintain current migration history

**CONSTRAINT:** MUST analyze and follow existing code patterns in the VPAL repository

## **PART 3: REPOSITORY-FIRST FEATURE GENERATION**

**GENERATE CODE THAT COMPLETES EXISTING COMPONENTS:**

1. **ANALYZE FIRST:** What virtual patient features already exist?
2. **ENHANCE:** Add physiology engine to existing patient models
3. **EXTEND:** Build 3D environments using existing Three.js setup
4. **INTEGRATE:** Add Ollama AI to current AI conversation system
5. **COMPLETE:** Finish partial implementations found in repository

**PRIORITY:** Generate code that seamlessly integrates with existing:
- File structure
- Import patterns
- Component hierarchies
- API routes
- Database models
- Configuration systems

## **PART 4: REPOSITORY-ANALYSIS INSTRUCTIONS**

**BEFORE GENERATING CODE, YOU MUST:**

1. **EXAMINE CURRENT STRUCTURE:**
   - What's in /frontend and /backend currently?
   - What components are partially implemented?
   - What's the current database schema?
   - How is AI currently integrated?
   - What 3D features exist already?

2. **IDENTIFY COMPLETION PRIORITIES:**
   - Which files are incomplete or need enhancement?
   - What features are planned but not implemented?
   - Where are the obvious gaps in current implementation?
   - What can be built upon vs what needs replacement?

3. **FOLLOW EXISTING PATTERNS:**
   - Use same variable naming conventions
   - Follow existing folder structure
   - Maintain current code style (ES6+, async/await, etc.)
   - Use existing utility functions and helpers
   - Follow current authentication flow

## **PART 5: CONTEXTUAL IMPLEMENTATION PROMPT**

**GENERATE CODE THAT SPECIFICALLY:**

1. **COMPLETES PARTIAL FILES:** Look for `.ts`, `.js`, `.tsx` files that are incomplete
2. **ADDS MISSING FEATURES:** Implement features referenced in code comments or README
3. **FIXES ARCHITECTURAL GAPS:** Identify and complete missing modules
4. **ENHANCES EXISTING FUNCTIONALITY:** Add AI, 3D, assessment to current features
5. **MAINTAINS CONSISTENCY:** Use same coding patterns as existing codebase

**EXAMPLE APPROACH:**
If repository has `/frontend/components/PatientCard.tsx` but no interaction logic:
- Analyze the existing PatientCard component
- Understand its props and current functionality  
- Add interactive features that match the existing style
- Ensure new code uses same patterns as surrounding code

## **PART 6: REPOSITORY-SPECIFIC GENERATION**

**START WITH REPOSITORY ANALYSIS:**

```bash
# Analyze these specific areas in VPAL repository:
/frontend/src/          # Current React components
/backend/src/           # Current API structure
/shared/                # Shared utilities and types
/database/              # Current schema and models
/docs/                  # Project documentation
package.json            # Dependencies and scripts
```

**THEN GENERATE CODE THAT:**

1. **COMPLETES** existing component implementations
2. **ADDS** missing AI integration (Ollama) to current AI features
3. **ENHANCES** current patient models with physiology engine
4. **EXTENDS** existing 3D components with medical environments
5. **INTEGRATES** assessment system with current user management

## **PART 7: OUTPUT FORMAT FOR REPOSITORY**

**RESPONSE STRUCTURE:**

1. **REPOSITORY ANALYSIS SUMMARY:**
   - Current state assessment
   - Identified completion priorities
   - Existing patterns to follow

2. **CONTEXTUAL CODE GENERATION:**
   For each file generated:
   - **File Path:** (relative to repository root)
   - **Existing Context:** How this integrates with current code
   - **Generated Code:** Complete implementation
   - **Integration Notes:** How to merge with existing files

3. **MIGRATION INSTRUCTIONS:**
   - How to add new code to existing structure
   - Database migration steps
   - Configuration updates needed
   - Testing with current codebase

## **PART 8: BEGIN REPOSITORY ANALYSIS**

**START GENERATION PROCESS:**

Step 1: Analyze https://github.com/sbmuedu/VPAL.git structure and existing code
Step 2: Identify the most critical completion priorities
Step 3: Generate code that builds upon existing implementation
Step 4: Provide integration instructions for the specific repository

**FIRST, ANALYZE AND REPORT ON:**
- What is the current frontend architecture?
- What backend modules exist already?
- What AI features are partially implemented?
- What database models are defined?
- What are the obvious next steps for this specific repository?

Then generate completion code that seamlessly integrates with the EXISTING VPAL codebase.

**This prompt will force the AI to actually analyze your repository and generate context-appropriate code that completes your specific project rather than generating a generic new project.** 

**Copy and paste this version to get repository-specific completions!** ðŸš€